<%# button for adding a new garden (missing link) %>
<div class="d-flex justify-content-around">
  <h3 class=""> Add new garden</h3>
  <button class="green-button" data-bs-toggle="modal" data-bs-target="#exampleModal">+</button>
</div>
 <%# Displaying all gardens %>
<div class="d-flex justify-content-center">
</div>
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <% @gardens.each do |garden| %>
    <li class="nav-item">
      <a class="nav-link <%= 'active' if @gardens.first == garden %>" id="<%=garden.name%>-tab" data-toggle="tab" href="#<%=garden.name%>" role="tab" aria-controls="<%=garden.name%>" aria-selected="true"><%=garden.name%></a>
    </li>
  <%end%>
</ul>
<div class="tab-content" id="myTabContent">
  <% @gardens.each do |garden| %>
  	<div class="tab-pane fade show <%= 'active' if @gardens.first == garden %>" id="<%=garden.name%>" role="tabpanel" aria-labelledby="<%=garden.name%>-tab">
      <div class="home-garden-card">
          <%= link_to garden.name, garden_path(garden) %>
          <% garden.my_plants.each do |my_plant| %>
            <%= my_plant.nickname%>
          <div class="plant-avatar">
              <%= cl_image_tag my_plant.plant.photo.key, height: 280, width: 200, crop: :fill %>
          </div>
          <%end%>
        </div>
    </div>
  <%end%>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Please enter your garden name:</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <%= simple_form_for @garden do |f|%>
          <%= f.input :name %>
          <%= f.button :submit, class:"btn btn-primary" %>
        <% end %>
     </div>
    </div>
  </div>
</div>
</div>

<div class="container">
  <div class="notification-container">
    <h2 class="text-center pt-2">Notifications</h2>
    <div class="d-flex justify-content-around">

      <div class="" style="width: 90%">
        <% @my_plants.each do |p| %>
          <% if p.water? %>
            <div class="notification-card">
              <div class="d-flex align-items-center">
                <div class="plant-avatar">
                  <%= cl_image_tag p.plant.photo.key, height: 300, width: 400, crop: :fill %>
                </div>

                <div>
                  <h6 class="mt-1"><%= p.nickname %></h6>
                  <p><%= p.plant.common_name %></p>
                  <p><%= p.garden.name %></p>
                  <% if p.overdue == "due today" %>
                    <p class="today"><%= p.overdue %></p>
                  <% elsif %>
                    <p class="overdue"><%= p.overdue %></p>
                  <% end %>
                </div>
              </div>

              <div class="form-check">
                <%= link_to water_my_plant_path(p), method: :patch do %>
                  <input  class="form-check-input"
                          type="checkbox" checked
                          data-controller="notification"
                          data-action="click->notification#toggleStyle"
                          data-notification-target="input">
                <% end %>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>

    </div>
  </div>
</div>




<!--
<h2>All</h2>
<% @my_plants.each do |p| %>
      <p>
        <%= p.nickname %>. last watered: <%= p.last_watered %>
      </p>
      <p>
        watered <%= p.days_ago %> days ago
      </p>
<% end %>
-->
