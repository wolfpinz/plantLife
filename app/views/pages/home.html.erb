
<%# button for adding a new garden (missing link) %>
<div class="d-flex justify-content-around">
  <div class="d-flex justify-content-center align-items-center">
    <h2 class="text-center m-0"> Add a new garden</h2>
    <button class="green-button mx-2" data-bs-toggle="modal" data-bs-target="#exampleModal"><h1>+</h1></button>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Please enter your garden name:</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <%= simple_form_for @garden do |f|%>
            <%= f.input :name %>
            <%= f.button :submit, class:"btn btn-primary" %>
          <% end %>
      </div>
      </div>
    </div>
  </div>
  </div>


  <div class="container" data-controller="progressbar">

    <div class="notification-container">
      <h2 class="text-center py-2">Notifications</h2>

  <%# Progress Bar %>
      <div class="progress mx-3 my-3" style="width: 90%">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" data-progressbar-target="progressbar"></div>
      </div>

  <%# notifications %>
      <div class="d-flex justify-content-around">

        <div class="" style="width: 90%">
          <% @my_plants.each do |p| %>
            <% if p.water? %>
              <div class="notification-card">
                <div class="d-flex align-items-center">
                  <div class="plant-avatar">
                    <%= cl_image_tag p.plant.photo.key, height: 300, width: 400, crop: :fill %>
                  </div>

                  <div>
                    <h6 class="mt-1"><%= p.nickname %></h6>
                    <p><%= p.plant.common_name %></p>
                    <p><%= p.garden.name %></p>
                    <% if p.overdue == "due today" %>
                      <p class="today"><%= p.overdue %></p>
                    <% elsif %>
                      <p class="overdue"><%= p.overdue %></p>
                    <% end %>
                  </div>
                </div>

                <div class="form-check">
                  <%= link_to water_my_plant_path(p), method: :patch, remote: true do %>
                    <input  class="form-check-input"
                            type="checkbox"
                            checked
                            data-controller="notification"
                            data-action="click->notification#toggleStyle click->progressbar#changeProgress"
                            data-notification-target="input"
                            data-progressbar-target="check">
                  <% end %>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>

      </div>
    </div>
</div>




<!--
<h2>All</h2>
<% @my_plants.each do |p| %>
      <p>
        <%= p.nickname %>. last watered: <%= p.last_watered %>
      </p>
      <p>
        watered <%= p.days_ago %> days ago
      </p>
<% end %>
-->
